## Техническая документация

### Скрипт бота для пересылки СМС

### Общая информация

- **Автор**: Антон Степанов

- **Версия**: 1.04 (ver 1.04 05.12.24)

- **Дата**: 2024-12-05

### 1. Описание

Скрипт предназначен для управления Telegram-ботом, который пересылает СМС из группы "Общий канал СМС", находящейся под контролем бота в приложении Remote Bot. Бот обрабатывает текстовые сообщения и пересылает их в указанные чаты на основании настроек в конфигурационных файлах.

### 2. Условия эксплуатации
### 2.1. Требования к окружению

- **Язык программирования**: Python 3.10 или более поздняя версия.

### 2.2. Установленные библиотеки

- telebot

- Beautiful Soup (bs4)

- OpenPyXL

### 2.3. Установка зависимостей

Для установки необходимого пакета можно использовать pip:

```bash
pip install telebot
```

### 3. Использование

- Сохраните токен бота в файл под названием token.conf. Токен должен принадлежать номеру **QIWI1**.

- Создайте файл **settings.conf**, в который вы будете добавлять настройки для чатов.

- Сохраните скрипт в файле с расширением .py, например, **sms_bot.py**.

- Запустите скрипт:

```bash
python sms_bot.py
```

### 4. Функции

### 4.1. Загружает токен бота

Скрипт загружает токен бота из файла **token.conf**, и если файл отсутствует, выводит сообщение об ошибке.

### 4.2. start(message, res=False)

Функция отвечает на команду */start*, приветствует пользователя и сообщает, как получить справку о работе бота.

### 4.3. handle_text(message)

Функция обрабатывает текстовые сообщения, пересылает их в указанные чаты и добавляет новые настройки из текстовых команд. Обрабатываются исключения, если файл **settings.conf** не найден.

### 5. Примечания

- Функция *handle_text* извлекает идентификаторы чатов и фильтры из конфигурационного файла **settings.conf** и пересылает сообщения в соответствующие чаты.

- Если фильтр отсутствует в текстовом сообщении, добавляется новая настройка в файл **settings.conf**.

- Бот посылает уведомление о успешном применении новой настройки или о некорректном формате команды.

### 6. Возможные ошибки

- **FileNotFoundError**: Возникает при отсутствии файла **token.conf** или **settings.conf**. В этом случае выводится сообщение об ошибке.

- **Exception**: Возникает при попытке отправить сообщение в несуществующий чат. Скрипт выводит сообщение в консоль.

### 7. Заключение

Скрипт является полезным инструментом для автоматизации пересылки СМС через Telegram и может использоваться для эффективного управления сообщениями в чате.

<br>
<hr>
<br>

### Техническая документация

### Скрипт для запуска SMS Bot

### Общая информация

- **Автор**: Антон Степанов

- **Версия**: 1.02

- **Дата**: 2024-12-05

### 1. Описание

Этот скрипт предназначен для обеспечения постоянного запуска Рассыльного СМС. Скрипт будет пытаться запустить бот, и если бот завершит свою работу, он будет автоматически перезапущен через заданный интервал времени.

### 2. Условия эксплуатации

### 2.1. Требования к окружению

- Установленный Python версии 3.10 или выше.

- Необходимы права для выполнения системных команд.

### 3. Использование

- Сохраните скрипт в файле с расширением .py, например, **restart_bot.py**.

- Запустите скрипт:

```bash
python restart_bot.py
```

### 4. Функции

### 4.1. Постоянный запуск бота

Скрипт обеспечивает бесконечный цикл, в котором повторно запускает SMS Bot через заданный интервал времени.

### 5. Примечания

- Скрипт ожидает 4 секунды перед запуском бота, что позволяет при необходимости остановить работу бота, не закрывая терминал, нажав комбинацию клавиш *Ctrl + C*.

- Если при попытке запуска возникает ошибка, скрипт выводит соответствующее сообщение и пытается перезапустить бот.

### 6. Возможные ошибки

- **Exception**: Происходит, если возникает ошибка на стороне Telegram при попытке запустить бот. В этом случае выводится сообщение об ошибке, и бот будет перезапущен.

### 7. Заключение

Этот скрипт обеспечивает непрерывную работу Рассыльного СМС, что позволяет избежать его случайного завершения и обеспечивает надежность системы для автоматической пересылки СМС сообщений.



### Общая документация для Скриптов

### 8. Взаимосвязь скриптов

Оба скрипта работают в связке: первый скрипт отвечает за управление Telegram-ботом и обработку сообщений, в то время как второй скрипт обеспечивает его постоянный запуск. Пользователь может взаимодействовать с ботом и добавлять новые настройки, в то время как запускающий скрипт гарантирует, что бот будет всегда доступен.
