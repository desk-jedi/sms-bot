## Техническая документация

### Скрипт бота для пересылки СМС

### Общая информация

- **Автор**: Антон Степанов

- **Версия**: 1.04 (ver 1.04 05.12.24)

- **Дата**: 2024-12-05

### 1. Описание

Скрипт предназначен для управления Telegram-ботом, который пересылает СМС из группы "Общий канал СМС", находящейся под контролем бота в приложении Remote Bot. Бот обрабатывает текстовые сообщения и пересылает их в указанные чаты на основании настроек в конфигурационных файлах.

### 2. Условия эксплуатации

### 2.1. Требования к окружению

- Установленный Python версии 3.10 или выше.

- Установленный пакет telebot.

### 2.2. Установка зависимостей

Для установки необходимого пакета можно использовать pip:

```bash
pip install telebot
```

### 3. Использование

- Сохраните токен бота в файл под названием token.conf. Токен должен принадлежать номеру +7(922)016-39-61.

- Создайте файл settings.conf, в который вы будете добавлять настройки для чатов.

- Сохраните скрипт в файле с расширением .py, например, sms_bot.py.

- Запустите скрипт:

```bash
python sms_bot.py
```

### 4. Функции

### 4.1. Загружает токен бота

Скрипт загружает токен бота из файла token.conf, и если файл отсутствует, выводит сообщение об ошибке.

### 4.2. start(message, res=False)

Функция отвечает на команду /start, приветствует пользователя и сообщает, как получить справку о работе бота.

### 4.3. handle_text(message)

Функция обрабатывает текстовые сообщения, пересылает их в указанные чаты и добавляет новые настройки из текстовых команд. Обрабатываются исключения, если файл settings.conf не найден.

### 5. Примечания

- Функция handle_text извлекает идентификаторы чатов и фильтры из конфигурационного файла settings.conf и пересылает сообщения в соответствующие чаты.

- Если фильтр отсутствует в текстовом сообщении, добавляется новая настройка в файл settings.conf.

- Бот посылает уведомление о успешном применении новой настройки или о некорректном формате команды.

### 6. Возможные ошибки

- **FileNotFoundError**: Возникает при отсутствии файла token.conf или settings.conf. В этом случае выводится сообщение об ошибке.

- **Exception**: Возникает при попытке отправить сообщение в несуществующий чат. Скрипт выводит сообщение в консоль.

### 7. Заключение

Скрипт является полезным инструментом для автоматизации пересылки СМС через Telegram и может использоваться для эффективного управления сообщениями в чате.
